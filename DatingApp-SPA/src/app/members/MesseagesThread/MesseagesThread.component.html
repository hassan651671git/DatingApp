<div class="card">
<div class="card-body">
    <div *ngIf="messages?.length==0">
      No Messages Yet.... say hi now!
    </div>
<ul class="chat">
  <li *ngFor="let message of messages">
    <div *ngIf="message.senderId==userId">
      <span class="chat-img float-right">
        <img src="{{message.senderPhotoUrl}}" alt="{{message.senderKnownAs}}"  class="rounded-circle circle">
      </span>
      <div class="chat-body">
        <div class="header">
          <strong class="primary-font float-right ml-1">  {{message.senderKnowAs}} </strong>
          <small class="text-muted float-left">
            <span class="fa fa-clock-o">{{message.messageSent|timeago}}</span>
            <span *ngIf="!message.isRead" class="text-danger">(unread)</span>
            <span *ngIf="message.isRead" class="text-success">(read) {{messages.dateRead}} </span>
          </small>
          <br>
        </div>
        <p >{{message.content}}</p>
      </div>
    </div>

    <div *ngIf="message.senderId==recipientId">
      <span class="chat-img float-left">
        <img src="{{message.senderPhotoUrl}}" alt="{{message.senderKnownAs}}" class="rounded-circle circle">
      </span>
      <div class="chat-body">
        <div class="header">
          <small class="text-muted float-right">
            <span class="fa fa-clock-o">{{message.messageSent|timeago}}</span>
            
          </small>
          <strong class="primary-font float-left mr-1">  {{message.senderKnowAs}} </strong>
        </div>
        <br>
        <p>{{message.content}}</p>
      </div>
    </div>


  </li>
</ul>
     
</div>
<div class="card-footer">
<form  (ngSubmit)="sendMessage()" #messagesForm="ngForm">
  <div class="input-group">
    <input type="text" class="form-control input-sm " placeholder="type your message here" 
    [(ngModel)]="messageContent" name="messageContent" required>
  <div class="input-group-append">
    <button class="btn btn-primary" type="submit" [disabled]="!messagesForm.valid">
      Send
    </button>
  </div>
    
  </div>
</form>

</div>

</div>